<!DOCTYPE html>
<html lang="en">

<head>
	<title>A Layman's Guide to SSH Tunneling</title>
        <link rel="stylesheet" href="/css/style.css" />
        <link href='http://fonts.googleapis.com/css?family=Gentium+Book+Basic:400,400italic|Open+Sans' rel='stylesheet' type'text/css'>
        <meta charset="utf-8">
        <meta name="author" content="Adam Allidina">
        <meta name="keywords" content="adam, allidina, blog">
        <meta name="description" content="Adam Allidina's blog">
		<script type="text/javascript">

  			var _gaq = _gaq || [];
  			_gaq.push(['_setAccount', 'UA-18670710-3']);
  			_gaq.push(['_trackPageview']);

  			(function() {
    			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
   			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  			})();

		</script>
</head>

<div class="content">
	<body>
		<div class="header">
			<h1>A Layman's Guide to SSH Tunneling</h1>
		</div>

		<div class="post">	
			<p>11/03/12 - Waterloo</p>

<p>Recently, it has come to my attention that quite a few people are under the impression that most &#8220;United States Only&#8221; content is actually only available in the United States. Now the DMCA has basically allowed for a plethora of free, legal, video and movie content to be accessable on the internet. Unfortunatly, Canadian&#8217;s are excluded from that sweet, sweet content. However, the solution to this is - well realitivly - simple. Once you have finished reading this post, not only will you be able to listen to all the Pandora you want and experience the joys of Hulu, you will even be able to use the United States version of Netflix which is, arguablly, infinatly better than its Canadian counterpart. All of this is possible to the magic of SSH. Even better, it&#8217;s totally free!</p>

<p>The first step in your journy into a content discovery coma will be to sign up for an Amazon AWS account. Now, AWS is what Amazon describes as a &#8220;set of services that together form a reliable, scalable, and inexpensive computing platform &#8216;in the cloud&#8221;. Now you may be saying to yourself &#8220;inexpensive, doesn&#8217;t that imply there&#8217;s a cost to this?&#8221; and you would be right. Normally, the cheapest instance of Amazon EC2, the platform we are intereseted in, would cost you a starteling $0.085 an hour. Oh god, that&#8217;s actually around $60 a month if you run continuously, certainly more than the $0.00 I promised you. Here&#8217;s where we add the awesomesauce of using Amazon, Bezo&#8217;s and company have decided to offer all new AWS customers <em>a full year</em> of free usage for an EC2 Micro instance (which happens to be substantially more powerful than what we need for SSH tunneling). Now, I&#8217;ll leave the setup of EC2 for you to figure out but it shouldn&#8217;t take you longer than an hour. <a href='http://docs.amazonwebservices.com/gettingstarted/latest/awsgsg-freetier/TestDriveFreeTier.html?r=8587'>Amazon</a> has some great docmentation when it comes to getting set up on the Free Usage Tier so feel free to follow it. And just a quick sidenote, there are literally thousands of machine images to choose from when setting up your EC2 instance but for simplicities sake I&#8217;m going to continue this tutorial under the assumption that you have chosen the stock Ubuntu instance.</p>

<p>Once you&#8217;ve got your instance set up, the rest is a fairly simple process. All you really have to do is make sure that SSH is setup correctly on your local machine. For OS X and <em>nix users, there&#8217;s a good chance you already have SSH setup on your machine (though if memory serves me correctly, you might need to enable it first on your Mac). Windows is a more tedious process but only slightly so. I recommend just installing Cygwin and selecting SSH as one of the packages during the installation.</em></p>

<p>We&#8217;re on the final strech now. In your terminal (or Cygwin instance), run:</p>

<pre><code>ssh -D 80 -i KEYPAIR.pem USER@HOST</code></pre>

<p>That&#8217;s it!</p>

<p>Well almost. The last step is to set your browser up to connect through a SOCKS proxy. Basically, this will run all your browser traffic through the SOCKS proxy you just setup on port 80 without effecting any of the other programs on your machine. I tend to just use Firefox for this because it is the only browser I&#8217;ve found that easily lets me do this; in my expericene Chrome and Safari just redirect you to your system settings for tunneling, something I would rather not bother configuring. In Firefox just go to Preferences -&gt; Options -&gt; Advanced -&gt; Network, check the box marked &#8220;route traffic through tunnel&#8221; and enter the following settings.</p>

<pre><code>HOST: LOCALHOST
PORT: 80</code></pre>

<p>Wasn&#8217;t that easy? Your browser is now tunneling all its traffic though Amazon&#8217;s server in the <em>United States</em>. Feel free to vist your <a href='http://www.ipchicken.com'>favorite IP checking website</a> and verify your results. I typically just leave <em>Insert United States Based Music Streaming Service</em> running in Firefox and use Chrome for all my typical browsing.</p>
			<a href="/">Home</a>
		</div>
	</body>
</div>
</html>
